# Middle platform 中台

## 中台的概念

中台是一层包含一定业务能力的应用平台，通过基础微服务提供数据共享，输出API能力形成数字生态，快速满足不同的不断变化前端功能。

- **共享**
- **开发能力**
- **变化**

![大中台](C:\Users\richardxie\git\notebook\img\middleplatform\大中台.png)

- 通过构建中台战略，可以做到减少沟通成本，提高协助效率的作用

  - 业务中台提供可重用服务(用户中心，订单中心之类的开箱即用能力)，为前端战场提供了强大的后方炮火支援能力，随叫随到，威力强大；
  - 数据中台提供了数据分析能力，为前端战场提供了强大及时的雷达监测能力，帮助零售企业从数据中学习改进，调整方向，掌控战场；
  - AI中台提供了前端战场一线火力支援能力，帮助零售企业提供更加个性化的服务，增强用户体验，随机应变，所向披靡；
  - 研发中台提供了自建系统部分的管理和技术实践支撑能力，帮助我们快速搭建项目，管理进度，测试，持续集成，持续交付；
  - 组织中台为我们的项目提供投资管理，风险管理，资源调度等，是战场的指挥部，战争的大脑，指挥前线，调度后方

- 中台解决的痛点

  随着公司业务的不断发展，以及集团多元业务的综合布局，对信息化先进程度以及相应速度要求越来越高，特别是多产品线解决方案的快速灵活输出及跨产品线的结合，需要高效的跨部门合作和项目开发的快速响应。而在常年的IT建设过程中积累的问题，成为影响企业发展的一大痛点。

  - 业务具有不确定性 创新困难，无法支撑市场高速变化
  - 业务快速创新
    - 需要快速应对消费者带来的不确定需求，有较高的稳定性和弹性伸缩要求
    - 如APP应用、手游、新媒体应用及其他需要频繁迭代的应用
  - 信息孤岛
    - 系统割裂，数据孤岛，无法基于现有系统进一步构建数据中台。
    - 内部大量重复建设，缺乏业务核心的固化沉淀
  - 业务不在线
    - 企业信息化程度不足，大量人工统计
    - 核心业务未实现实时在线。如会员订单不完整，经销商进销存数据不在线等。

## 整体架构

![整体架构](C:\Users\richardxie\git\notebook\img\middleplatform\整体架构.png)

## 全景



### 微服务治理架构

![服务治理](C:\Users\richardxie\git\notebook\img\middleplatform\服务治理.png)

### 容器云

![云容器](C:\Users\richardxie\git\notebook\img\middleplatform\云容器.png)

### 持续集成与持续交付平台

![持续集成](C:\Users\richardxie\git\notebook\img\middleplatform\持续集成.jpeg)

### 日志

![日志系统](C:\Users\richardxie\git\notebook\img\middleplatform\日志系统.jpeg)



### 全链路监控

![全链路监控](C:\Users\richardxie\git\notebook\img\middleplatform\全链路监控.png)

### 接口管理

![接口生命周期管理](C:\Users\richardxie\git\notebook\img\middleplatform\接口生命周期管理.png)

## API网关

API 网关是提供服务开放和共享的企业级 PaaS 平台，提供发布管理、统一认证鉴权、流控、协议转换、服务审计等功能，帮助用户实现内部多系统间，或者内部系统与外部系统之间实现跨系统、跨协议的服务能力互通。

![网关](img\middleplatform\网关.png)

- 数据签名验签
- 智能路由
- 黑白名单
- 流量控制



## API权限

- 支持灵活的登录放心

1. 图片验证码登录
2. 短信验证码登录
3. 微信小程序登录
4. 第三方系统登录
5. CAS单点登录

- 基于OAuth Token的API权限



## 技术基础框架

技术基础框架， 提供通用类库、微服务框架及对中间件及第三方框架的封装，提供统一的接口 提供如缓存、消息队列、数据层访问等的接口

### mcps-base

基础工具包， 不依赖任何框架 提供如基础对象、异常、错误码及加解密工具等等

### mcps-frame

框架类库， 便于快速开发微服务

### mcps-starter

spring boot starter扩展框架集， 便于微服务开箱即用的功能

### 支持的中间件封装

- 缓存 Redis
- 队列 Kafka、rocketmq
- 持久层  jpa



## 业务中台

各个业务线通用的业务可以抽取为业务中台， 提供统一服务， 目前的业务中台包括：

1. 字典服务
2. 账号服务
3. 渠道信息服务
4. 产品工厂服务
5. 客户服务
6. 机构服务
7. 产品订购服务
8. 权限管理服务





